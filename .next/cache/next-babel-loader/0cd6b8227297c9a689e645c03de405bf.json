{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar __jsx = React.createElement;\nimport { CssBaseline, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport React from 'react';\nimport { Translate as TranslateIcon } from '@material-ui/icons';\nimport { router } from \"../../../lib/router\";\nexport default function ({\n  i18n\n}) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  function handleMenu(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  async function handleClose(e) {\n    const lang = e.currentTarget.dataset.lang;\n    await i18n.changeLanguage(lang || 'en');\n    let route = router.route.replace('/', '');\n    router.replaceRoute(route === '' ? 'index' : route, _objectSpread({}, router.query, {\n      lng: lang\n    }));\n    setAnchorEl(null);\n  }\n\n  return __jsx(\"div\", null, __jsx(CssBaseline, null), __jsx(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleMenu,\n    color: \"inherit\"\n  }, __jsx(TranslateIcon, null)), __jsx(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose\n  }, __jsx(MenuItem, {\n    \"data-lang\": \"en\",\n    onClick: handleClose\n  }, \"En\"), __jsx(MenuItem, {\n    \"data-lang\": \"zh-TW\",\n    onClick: handleClose\n  }, \"\\u4E2D\\u6587\")));\n}","map":{"version":3,"sources":["/Users/shiacruz/Desktop/project/next-ts-ssr/components/Common/Layout/LangMenu.tsx"],"names":["CssBaseline","IconButton","Menu","MenuItem","React","Translate","TranslateIcon","router","i18n","anchorEl","setAnchorEl","useState","open","Boolean","handleMenu","event","currentTarget","handleClose","e","lang","dataset","changeLanguage","route","replace","replaceRoute","query","lng","vertical","horizontal"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,UAAtB,EAAkCC,IAAlC,EAAwCC,QAAxC,QAAwD,mBAAxD;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAS,IAAIC,aAAtB,QAA2C,oBAA3C;AAEA,SAASC,MAAT;AAMA,eAAe,UAAS;AAAEC,EAAAA;AAAF,CAAT,EAA0B;AACvC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,KAAK,CAACO,QAAN,CAAe,IAAf,CAAhC;AACA,QAAMC,IAAI,GAAGC,OAAO,CAACJ,QAAD,CAApB;;AAEA,WAASK,UAAT,CAAoBC,KAApB,EAAgE;AAC9DL,IAAAA,WAAW,CAACK,KAAK,CAACC,aAAP,CAAX;AACD;;AAED,iBAAeC,WAAf,CAA2BC,CAA3B,EAA+D;AAC7D,UAAMC,IAAI,GAAGD,CAAC,CAACF,aAAF,CAAgBI,OAAhB,CAAwBD,IAArC;AACA,UAAMX,IAAI,CAACa,cAAL,CAAoBF,IAAI,IAAI,IAA5B,CAAN;AACA,QAAIG,KAAK,GAAGf,MAAM,CAACe,KAAP,CAAaC,OAAb,CAAqB,GAArB,EAA0B,EAA1B,CAAZ;AACAhB,IAAAA,MAAM,CAACiB,YAAP,CAAoBF,KAAK,KAAK,EAAV,GAAe,OAAf,GAAyBA,KAA7C,oBACKf,MAAM,CAACkB,KADZ;AAEEC,MAAAA,GAAG,EAAEP;AAFP;AAIAT,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD;;AAED,SACE,mBACE,MAAC,WAAD,OADF,EAEE,MAAC,UAAD;AACE,kBAAW,yBADb;AAEE,qBAAc,aAFhB;AAGE,qBAAc,MAHhB;AAIE,IAAA,OAAO,EAAEI,UAJX;AAKE,IAAA,KAAK,EAAC;AALR,KAOE,MAAC,aAAD,OAPF,CAFF,EAWE,MAAC,IAAD;AACE,IAAA,EAAE,EAAC,aADL;AAEE,IAAA,QAAQ,EAAEL,QAFZ;AAGE,IAAA,YAAY,EAAE;AACZkB,MAAAA,QAAQ,EAAE,KADE;AAEZC,MAAAA,UAAU,EAAE;AAFA,KAHhB;AAOE,IAAA,WAAW,MAPb;AAQE,IAAA,eAAe,EAAE;AACfD,MAAAA,QAAQ,EAAE,KADK;AAEfC,MAAAA,UAAU,EAAE;AAFG,KARnB;AAYE,IAAA,IAAI,EAAEhB,IAZR;AAaE,IAAA,OAAO,EAAEK;AAbX,KAeE,MAAC,QAAD;AAAU,iBAAU,IAApB;AAAyB,IAAA,OAAO,EAAEA;AAAlC,UAfF,EAkBE,MAAC,QAAD;AAAU,iBAAU,OAApB;AAA4B,IAAA,OAAO,EAAEA;AAArC,oBAlBF,CAXF,CADF;AAoCD","sourcesContent":["import { CssBaseline, IconButton, Menu, MenuItem } from '@material-ui/core'\n\nimport React from 'react'\nimport { Translate as TranslateIcon } from '@material-ui/icons'\nimport i18next from 'i18next'\nimport { router } from '@App/lib/router'\n\ninterface Props {\n  i18n: i18next.i18n\n}\n\nexport default function({ i18n }: Props) {\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const open = Boolean(anchorEl)\n\n  function handleMenu(event: React.MouseEvent<HTMLButtonElement>) {\n    setAnchorEl(event.currentTarget as any)\n  }\n\n  async function handleClose(e: React.MouseEvent<HTMLLIElement>) {\n    const lang = e.currentTarget.dataset.lang\n    await i18n.changeLanguage(lang || 'en')\n    let route = router.route.replace('/', '')\n    router.replaceRoute(route === '' ? 'index' : route, {\n      ...router.query,\n      lng: lang\n    })\n    setAnchorEl(null)\n  }\n\n  return (\n    <div>\n      <CssBaseline />\n      <IconButton\n        aria-label='account of current user'\n        aria-controls='menu-appbar'\n        aria-haspopup='true'\n        onClick={handleMenu}\n        color='inherit'\n      >\n        <TranslateIcon />\n      </IconButton>\n      <Menu\n        id='menu-appbar'\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuItem data-lang='en' onClick={handleClose}>\n          En\n        </MenuItem>\n        <MenuItem data-lang='zh-TW' onClick={handleClose}>\n          中文\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}